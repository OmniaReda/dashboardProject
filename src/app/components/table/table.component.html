<div class="p-5 h-screen overflow-y-auto">
  <h4
    class="font-bold text-[22px] text-center text-[#012D6A] my-5"
    *ngIf="dataIsLoaded"
  >
    إحصائيات الطلبات
    {{ label }}
    {{ onTimeValue }}
    {{ careDetails.Data.length }}
  </h4>

  <div
    class="relative overflow-x-auto bg-white rounded-lg"
    *ngIf="dataIsLoaded"
  >
    <table class="w-full text-sm">
      <thead class="text-white uppercase bg-[#012D6A]">
        <tr>
          <th
            scope="col"
            class="px-6 py-3 cursor-pointer select-none"
            *ngFor="let column of careDetails.Columns"
          >
            <div
              class="flex items-center justify-center gap-1"
              (click)="sortTable(column.ColumnName)"
            >
              {{ column.ColumnValue }}
              <div class="flex flex-col text-[10px] leading-3">
                <span
                  [class.text-yellow-500]="
                    sortColumn === column.ColumnName && sortDirection === 'asc'
                  "
                >
                  ▲
                </span>
                <span
                  [class.text-yellow-500]="
                    sortColumn === column.ColumnName && sortDirection === 'desc'
                  "
                >
                  ▼
                </span>
              </div>
            </div>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let row of careDetails.filteredData">
          <td
            class="px-6 py-4 border text-center text-[#012D6A] font-bold"
            *ngFor="let column of careDetails.Columns"
          >
            {{ row[column.ColumnName] }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
